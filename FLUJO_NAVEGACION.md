# ğŸ—ºï¸ Flujo de NavegaciÃ³n - Marval Friends

## ğŸ“± Mapa de NavegaciÃ³n Completo

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      WELCOME PAGE                           â”‚
â”‚  â€¢ Logo Marval                                              â”‚
â”‚  â€¢ Campo: Ingresa Documento                                 â”‚
â”‚  â€¢ Campo: Token                                             â”‚
â”‚  â€¢ BotÃ³n: Ingresar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                          â”‚
                                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       HOME PAGE                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Header: Logo + Notificaciones                         â”‚  â”‚
â”‚  â”‚ Profile Card: Avatar + Badges (Bronze/Silver/Gold)    â”‚  â”‚
â”‚  â”‚                                                        â”‚  â”‚
â”‚  â”‚ Menu Cards:                                           â”‚  â”‚
â”‚  â”‚  â€¢ Referir (con borde naranja)                       â”‚  â”‚
â”‚  â”‚  â€¢ Estado de mis referidos                           â”‚  â”‚
â”‚  â”‚  â€¢ Redimir premios                                   â”‚  â”‚
â”‚  â”‚  â€¢ Plan de premios                                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚           BOTTOM NAVIGATION BAR                       â”‚  â”‚
â”‚  â”‚  [Home] [Profile] [Notifications] [Settings] [Settings]â”‚  â”‚
â”‚  â”‚    â–²       â”‚          â”‚              â”‚          â”‚      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚       â”‚       â”‚          â”‚              â”‚          â”‚         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚       â”‚          â”‚              â”‚          â”‚
        â”‚       â–¼          â–¼              â–¼          â–¼
        â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   â”‚PROFILE â”‚ â”‚NOTIFICATIONS â”‚ â”‚SETTINGSâ”‚ â”‚SETTINGSâ”‚
        â”‚   â”‚  PAGE  â”‚ â”‚     PAGE     â”‚ â”‚  TODO  â”‚ â”‚  TODO  â”‚
        â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚       â”‚          â”‚
        â”‚       â”‚          â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€ [Back Button] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                              â”‚
                                    Vuelve a HOME PAGE â—„â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ NavegaciÃ³n por Ãndice

### Bottom Navigation Bar

| Ãndice | Icono | Label | Destino | Estado |
|--------|-------|-------|---------|--------|
| 0 | ğŸ  home_15 | Home | HomePage (actual) | âœ… |
| 1 | ğŸ“Š grid_1 | Profile | ProfilePage | âœ… |
| 2 | ğŸ”” notification | Notifications | NotificationsPage | âœ… |
| 3 | ğŸ›¡ï¸ shield_tick | Settings | TODO | ğŸš§ |
| 4 | âš™ï¸ setting_2 | Settings | TODO | ğŸš§ |

---

## ğŸ”„ Tipos de NavegaciÃ³n

### 1. context.go() - Reemplaza la ruta
```dart
// Usado en Welcome â†’ Home
context.go(AppRouter.home);

Comportamiento:
âœ… Reemplaza la ruta actual
âœ… No se puede volver atrÃ¡s
âœ… Ideal para login â†’ home
```

### 2. context.push() - Agrega a la pila
```dart
// Usado en Home â†’ Profile/Notifications
context.push(AppRouter.profile);
context.push(AppRouter.notifications);

Comportamiento:
âœ… Agrega nueva ruta a la pila
âœ… Permite volver atrÃ¡s
âœ… Ideal para navegaciÃ³n entre tabs
```

---

## ğŸ“Š Flujo de Usuario

### Escenario 1: Login y NavegaciÃ³n a Profile
```
1. Usuario abre la app
   â””â”€â†’ WelcomePage

2. Usuario ingresa credenciales y presiona "Ingresar"
   â””â”€â†’ context.go(AppRouter.home)
   â””â”€â†’ HomePage

3. Usuario toca tab "Profile"
   â””â”€â†’ context.push(AppRouter.profile)
   â””â”€â†’ ProfilePage

4. Usuario presiona botÃ³n back
   â””â”€â†’ Vuelve a HomePage
```

### Escenario 2: Login y NavegaciÃ³n a Notifications
```
1. Usuario abre la app
   â””â”€â†’ WelcomePage

2. Usuario ingresa credenciales y presiona "Ingresar"
   â””â”€â†’ context.go(AppRouter.home)
   â””â”€â†’ HomePage

3. Usuario toca tab "Notifications"
   â””â”€â†’ context.push(AppRouter.notifications)
   â””â”€â†’ NotificationsPage

4. Usuario presiona botÃ³n back
   â””â”€â†’ Vuelve a HomePage
```

### Escenario 3: NavegaciÃ³n mÃºltiple
```
1. WelcomePage
   â””â”€â†’ HomePage
       â”œâ”€â†’ ProfilePage
       â”‚   â””â”€â†’ [Back] â†’ HomePage
       â”‚
       â””â”€â†’ NotificationsPage
           â””â”€â†’ [Back] â†’ HomePage
```

---

## ğŸ¨ Estados Visuales

### BottomNavBar - Estado Activo
```
Cuando el usuario estÃ¡ en HomePage:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ğŸ  Home]  [Profile]  [Notifications]   â”‚
â”‚  NARANJA    GRIS       GRIS             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Cuando el usuario navega a Profile:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Home]  [ğŸ“Š Profile]  [Notifications]   â”‚
â”‚  GRIS     NARANJA       GRIS            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Cuando el usuario navega a Notifications:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Home]  [Profile]  [ğŸ”” Notifications]   â”‚
â”‚  GRIS     GRIS        NARANJA           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ CÃ³digo de NavegaciÃ³n

### En HomePage
```dart
void _onNavTap(int index) {
  setState(() {
    _currentIndex = index;
  });

  switch (index) {
    case 0:
      // Ya estamos en Home, no hacer nada
      break;
    case 1:
      // Navegar a Profile
      context.push(AppRouter.profile);
      break;
    case 2:
      // Navegar a Notifications
      context.push(AppRouter.notifications);
      break;
    case 3:
      // TODO: Navegar a Settings
      break;
    case 4:
      // TODO: Navegar a Settings
      break;
  }
}
```

### En AppRouter
```dart
static const String welcome = '/';
static const String home = '/home';
static const String profile = '/profile';
static const String notifications = '/notifications';

static final GoRouter router = GoRouter(
  initialLocation: welcome,
  routes: [
    GoRoute(path: welcome, builder: (context, state) => const WelcomePage()),
    GoRoute(path: home, builder: (context, state) => const HomePage()),
    GoRoute(path: profile, builder: (context, state) => const ProfilePage()),
    GoRoute(path: notifications, builder: (context, state) => const NotificationsPage()),
  ],
);
```

---

## ğŸ“ Rutas Disponibles

| Ruta | Constante | PÃ¡gina | MÃ©todo |
|------|-----------|--------|--------|
| `/` | `AppRouter.welcome` | WelcomePage | `context.go()` |
| `/home` | `AppRouter.home` | HomePage | `context.go()` |
| `/profile` | `AppRouter.profile` | ProfilePage | `context.push()` |
| `/notifications` | `AppRouter.notifications` | NotificationsPage | `context.push()` |

---

## âœ… VerificaciÃ³n de NavegaciÃ³n

### Checklist
- [x] Welcome â†’ Home funciona
- [x] Home â†’ Profile funciona
- [x] Home â†’ Notifications funciona
- [x] Back desde Profile funciona
- [x] Back desde Notifications funciona
- [x] BottomNavBar actualiza estado visual
- [ ] Settings tabs (pendiente)

---

## ğŸš€ Estado Actual

**NavegaciÃ³n Operativa:**
- âœ… 4 rutas configuradas
- âœ… 3 navegaciones funcionando
- âœ… Back navigation funcionando
- âœ… Estado visual del BottomNavBar
- âœ… Sin errores de compilaciÃ³n

**Pendiente:**
- ğŸš§ Implementar Settings pages
- ğŸš§ Mejorar persistencia del estado del tab
- ğŸš§ Agregar animaciones de transiciÃ³n

**Estado: NAVEGACIÃ“N FUNCIONAL** ğŸ‰
